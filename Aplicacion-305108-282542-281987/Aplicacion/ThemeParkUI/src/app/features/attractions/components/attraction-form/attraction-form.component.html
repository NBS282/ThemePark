<div class="form-container">
  <form [formGroup]="attractionForm" (ngSubmit)="save()">
    <div class="form-group">
      <label for="nombre">Nombre:</label>
      <input
        type="text"
        id="nombre"
        formControlName="nombre"
        class="form-control"
        [attr.disabled]="isEditMode ? true : null">
      @if (attractionForm.get('nombre')?.invalid && attractionForm.get('nombre')?.touched) {
        <span class="error-text">El nombre es requerido</span>
      }
    </div>

    @if (!isEditMode) {
      <div class="form-group">
        <label for="tipo">Tipo de Atracción:</label>
        <select id="tipo" formControlName="tipo" class="form-control">
          @for (tipo of tiposAtraccion; track tipo.value) {
            <option [value]="tipo.value">{{ tipo.label }}</option>
          }
        </select>
      </div>

      <div class="form-group">
        <label for="points">Puntos:</label>
        <input
          type="number"
          id="points"
          formControlName="points"
          class="form-control"
          min="0">
      </div>
    }

    <div class="form-group">
      <label for="edadMinima">Edad Mínima:</label>
      <input
        type="number"
        id="edadMinima"
        formControlName="edadMinima"
        class="form-control"
        min="0">
      @if (attractionForm.get('edadMinima')?.invalid && attractionForm.get('edadMinima')?.touched) {
        <span class="error-text">La edad mínima debe ser mayor o igual a 0</span>
      }
    </div>

    <div class="form-group">
      <label for="capacidadMaxima">Capacidad Máxima:</label>
      <input
        type="number"
        id="capacidadMaxima"
        formControlName="capacidadMaxima"
        class="form-control"
        min="1">
      @if (attractionForm.get('capacidadMaxima')?.invalid && attractionForm.get('capacidadMaxima')?.touched) {
        <span class="error-text">La capacidad máxima debe ser mayor a 0</span>
      }
    </div>

    <div class="form-group">
      <label for="descripcion">Descripción:</label>
      <textarea
        id="descripcion"
        formControlName="descripcion"
        class="form-control"
        rows="4"></textarea>
      @if (attractionForm.get('descripcion')?.invalid && attractionForm.get('descripcion')?.touched) {
        <span class="error-text">La descripción es requerida</span>
      }
    </div>

    @if (error()) {
      <div class="error-message">{{ error() }}</div>
    }

    <div class="form-actions">
      <button type="button" class="btn-cancel" (click)="cancel()">
        Cancelar
      </button>
      <button type="submit" class="btn-save">
        {{ isEditMode ? 'Actualizar' : 'Crear' }}
      </button>
    </div>
  </form>
</div>
