<div class="home-container">
  @if (!isLoggedIn()) {
    <!-- Public Home Page -->
    <section class="hero-section">
      <div class="hero-content">
        <h1 class="hero-title">BIENVENIDO A THEMEPARK</h1>
        <p class="hero-subtitle">Vive la aventura de tu vida en el mejor parque temÃ¡tico</p>
        <div class="hero-buttons">
          <a routerLink="/register" class="btn btn-primary">Registrarse</a>
          <a routerLink="/login" class="btn btn-secondary">Iniciar SesiÃ³n</a>
        </div>
      </div>
    </section>

    <section class="features-section">
      <div class="features-container">
        <h2 class="section-title">Â¿Por quÃ© elegir ThemePark?</h2>
        <div class="features-grid">
          <div class="feature-card">
            <div class="feature-icon">ğŸ¢</div>
            <h3>Atracciones Emocionantes</h3>
            <p>Disfruta de las mejores montaÃ±as rusas y atracciones del paÃ­s</p>
          </div>
          <div class="feature-card">
            <div class="feature-icon">ğŸŸï¸</div>
            <h3>GestiÃ³n de Tickets</h3>
            <p>Compra y gestiona tus entradas de forma fÃ¡cil y segura</p>
          </div>
          <div class="feature-card">
            <div class="feature-icon">ğŸ‘¤</div>
            <h3>Perfil Personalizado</h3>
            <p>Administra tu informaciÃ³n y preferencias en un solo lugar</p>
          </div>
          <div class="feature-card">
            <div class="feature-icon">â­</div>
            <h3>MembresÃ­as Exclusivas</h3>
            <p>Accede a beneficios especiales segÃºn tu nivel de membresÃ­a</p>
          </div>
        </div>
      </div>
    </section>

    <section class="cta-section">
      <div class="cta-content">
        <h2>Â¿Listo para la aventura?</h2>
        <p>Ãšnete a miles de visitantes que ya disfrutan de ThemePark</p>
        <a routerLink="/register" class="btn btn-cta">Comienza Ahora</a>
      </div>
    </section>
  } @else {
    <!-- Authenticated User Dashboard -->
    <div class="dashboard-container">
      <!-- Top Section: Welcome + Stats Cards -->
      <section class="top-section-wrapper">
        <div class="top-section">
          <div class="welcome-box">
            <h1 class="greeting"><span class="greeting-text">BIENVENIDO {{ currentUser()?.nombre?.toUpperCase() }} A UN MUNDO DE DIVERSIÃ“N</span></h1>
            <p class="user-role">{{ userRoles().join(', ') }}</p>
          </div>

          @if (hasVisitorRole()) {
            <div class="stats-cards-row">
              <div class="stat-card-vertical points">
                <div class="stat-icon">ğŸ¯</div>
                <div class="stat-content">
                  <p class="stat-value">{{ totalPoints() }}</p>
                  <p class="stat-label">Puntos Totales</p>
                </div>
              </div>
              <div class="stat-card-vertical tickets">
                <div class="stat-icon">ğŸŸï¸</div>
                <div class="stat-content">
                  <p class="stat-value">{{ totalTickets() }}</p>
                  <p class="stat-label">Tickets Activos</p>
                </div>
              </div>
              <div class="stat-card-vertical membership">
                <div class="stat-icon">â­</div>
                <div class="stat-content">
                  <p class="stat-value">{{ membershipLevel() }}</p>
                  <p class="stat-label">MembresÃ­a</p>
                </div>
              </div>
            </div>
          }
        </div>
      </section>

      <!-- Quick Actions -->
      <section class="quick-actions-wrapper">
        <div class="section-header-bar">
          <span class="section-header-text">ACCESO RÃPIDO</span>
        </div>
        <div class="quick-actions-content">
          <div class="actions-grid">
            @for (action of quickActions(); track action.route) {
              <a [routerLink]="action.route" class="action-card">
                <span class="action-icon">{{ action.icon }}</span>
                <span class="action-label">{{ action.label }}</span>
              </a>
            }
          </div>
        </div>
      </section>

      <!-- Upcoming Events (only for Visitante) -->
      @if (hasVisitorRole()) {
        <section class="events-wrapper">
          <!-- Floating Park Elements -->
          <div class="floating-elements">
            <div class="floating-element">ğŸ¢</div>
            <div class="floating-element">ğŸ </div>
            <div class="floating-element">ğŸ¡</div>
            <div class="floating-element">ğŸª</div>
            <div class="floating-element">ğŸ­</div>
            <div class="floating-element">ğŸ¨</div>
            <div class="floating-element">ğŸ¯</div>
            <div class="floating-element">ğŸˆ</div>
            <div class="floating-element">ğŸ†</div>
            <div class="floating-element">ğŸ‰</div>
          </div>

          <div class="section-header-bar">
            <span class="section-header-text">EVENTOS DISPONIBLES</span>
          </div>
          <div class="events-content">
            @if (upcomingEvents().length > 0) {
              <div class="events-vertical-list">
                @for (event of upcomingEvents(); track event.id) {
                  <div class="event-card-box">
                    <div class="event-card-header">
                      <div class="event-icon-decoration">ğŸª</div>
                      <h3 class="event-name">{{ event.name }}</h3>
                    </div>
                    <div class="event-card-body">
                      <div class="event-info-row">
                        <span class="info-icon">ğŸ“…</span>
                        <span class="info-text">{{ event.fecha.split('T')[0] }}</span>
                      </div>
                      <div class="event-info-row">
                        <span class="info-icon">ğŸ•</span>
                        <span class="info-text">{{ event.hora.substring(0, 5) }}</span>
                      </div>
                      <div class="event-info-row">
                        <span class="info-icon">ğŸ’°</span>
                        <span class="info-text">${{ event.costoAdicional }}</span>
                      </div>
                    </div>
                    <div class="event-card-footer">
                      <a [routerLink]="['/events']" class="btn-event-details">Ver Detalles</a>
                    </div>
                  </div>
                }
              </div>
            } @else {
              <div class="no-events-box">
                <p class="no-events-icon">ğŸª</p>
                <p class="no-events-text">No hay eventos prÃ³ximos disponibles</p>
                <a routerLink="/events" class="btn-explore">Ver Todos los Eventos</a>
              </div>
            }
          </div>
        </section>
      }

      <!-- Admin Info Section (only for Administrador without Visitante) -->
      @if (isOnlyAdmin() || isAdminAndOperator()) {
        <section class="admin-overview">
          <div class="section-header-bar">
            <span class="section-header-text">INFORMACIÃ“N DEL SISTEMA</span>
          </div>
          <div class="admin-info-content">
            <p class="info-message">Utiliza las acciones rÃ¡pidas arriba para gestionar el parque temÃ¡tico.</p>
            <div class="admin-features">
              <div class="feature-item">
                <span class="feature-icon">ğŸ‘¥</span>
                <span class="feature-text">GestiÃ³n completa de usuarios y roles</span>
              </div>
              <div class="feature-item">
                <span class="feature-icon">ğŸ¢</span>
                <span class="feature-text">Control de atracciones y mantenimientos</span>
              </div>
              <div class="feature-item">
                <span class="feature-icon">ğŸª</span>
                <span class="feature-text">AdministraciÃ³n de eventos especiales</span>
              </div>
              <div class="feature-item">
                <span class="feature-icon">ğŸ</span>
                <span class="feature-text">Sistema de recompensas y membresÃ­as</span>
              </div>
              <div class="feature-item">
                <span class="feature-icon">ğŸ“ˆ</span>
                <span class="feature-text">Reportes y estadÃ­sticas del parque</span>
              </div>
            </div>
          </div>
        </section>
      }

      <!-- Operator Info Section (only for Operador without Visitante) -->
      @if (isOnlyOperator() || isAdminAndOperator()) {
        <section class="operator-section">
          <div class="section-header-bar">
            <span class="section-header-text">PANEL DE CONTROL</span>
          </div>
          <div class="operator-info-content">
            <p class="info-message">Como operador, puedes gestionar las atracciones del parque.</p>
            <div class="operator-features">
              <div class="feature-item">
                <span class="feature-icon">ğŸ¢</span>
                <span class="feature-text">Ver y gestionar atracciones</span>
              </div>
              <div class="feature-item">
                <span class="feature-icon">ğŸ”§</span>
                <span class="feature-text">Reportar mantenimientos</span>
              </div>
              <div class="feature-item">
                <span class="feature-icon">âœ…</span>
                <span class="feature-text">Control de acceso de visitantes</span>
              </div>
            </div>
          </div>
        </section>
      }
    </div>
  }
</div>
